# Snakemake rules to generate and
# process reference sequence data
#
# Author: Maurits Evers
# License: GPLv3
# Original date: 14-10-2016
# Last changed: 13-02-2017

localrules:
    download_reference

# Download reference sequence using curl
rule download_reference:
    input:
    output:
        join(config["refdir"], "{version}", "{chr}.fa.gz")
    params:
        cmd  = "curl",
        URL  = lambda wildcards: expand("{url}", url = config["reference"][wildcards.version][wildcards.chr])
    version: "1.0"
    shell:
        """
            {params.cmd} -o {output} {params.URL}
        """
